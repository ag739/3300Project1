<!-- Kelly O'Shaughessy kao58,
	-->
<!DOCTYPE html>
<html>
<head xmlns="http://www.w3.org/1999/xhtml">
	<link href='https://fonts.googleapis.com/css?family=Raleway:400,700italic' rel='stylesheet' type='text/css'>

	<!-- Load the d3 library. -->
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<script src="http://d3js.org/colorbrewer.v1.min.js"></script>
	<script src="legend.js"></script>

	<title> INFO 3300 Project 1 </title>
	<style>
	svg { font-weight: bold; font-family: 'Raleway', sans-serif;}
	</style>

</head>
<body>
	<script>
		/*Creating x & y scale functions that map data to SVG coordinates*/
		//Thinking that we could split the companies up by region
		var xscale = d3.scale.ordinal().domain(["Argentina", "Australia","Brazil","Canada","Chile","China","Columbia","Czech Republic","Denmark","Dominican Republic","Egypt","Ethiopia","Finland","Germany","Ghana","Greece","Haiti","Iceland","India","Iran","Israel","Italy","Jamaica","Japan","Kenya","Malaysia","Mexico","Morocco","Netherlands","New Zealand","Nigeria","Pakistan","Peru","Poland"])
			.rangePoints([125, 1175]);

		var yscale = d3.scale.linear().range([450, 50]);

		/* Creating shapes */
		//Data

		//Container
		var svg_container = d3.select("body").append("svg")
						.attr("width", 1300)
						.attr("height", 650);
						

		/*Add d3 axes */
		var xaxis = d3.svg.axis().scale(xscale)
					.orient("bottom")
					.tickSize(1,1);
		var yaxis = d3.svg.axis().scale(yscale)
					.orient("left")
					.ticks(10)
					.tickSize(1,1);
		//adding & transforming scales
		svg_container.append("g")
					.attr("transform", "translate(0,500)")
					.attr("class", "axis")
					.call(xaxis)
					.selectAll("text")
						.style("text-anchor","end")
						.style("font-size","12")
						.attr("dx","-.8em")
						.attr("dy",".15em")
						.attr("transform","rotate(-65)");
		svg_container.append("g")
						.attr("transform", "translate(125,51)")
						.attr("class", "axis")
						.call(yaxis);

		//Labels
		svg_container.append("text")
						.attr("x", 625).attr("y",620)
						.style("text-anchor", "middle")
						.text("Country")
						.style("font-size",14);
		svg_container.append("text")
						.attr("x", -300).attr("y",40)
						.style("text-anchor", "middle")
						.text("Intake (kcal/day)")
						.attr("transform", "rotate(-90)")
						.style("font-size", 14);
		svg_container.append("text")
						.attr("x", 625).attr("y",30)
						.style("text-anchor", "middle")
						.text("Title")
						.style("font-size", 25)
						.style("fill","#80c1ff");
		// //Legend
		function legendGraph() {
		legendData = ["Sugars", "Olive Oil", "Palm Oil", "Soybean Oil", "Vegetable Oil"]
		sampleOrdinal = d3.scale.ordinal()
						.domain(legendData)
						.range(["#ff9999","#ffcc99","#ffff99","#b3ff99","#99ffe6"]);
		legendGraph = d3.svg.legend().labelFormat("none")
					.cellPadding(5)
					.orientation("vertical")
					.units("Ingredient")
					.cellWidth(25)
					.cellHeight(18)
					.inputScale(sampleOrdinal)
					.cellStepping(10);

		d3.select("svg").append("g")
				.attr("transform", "translate(1200,200)")
				.attr("class", "legend").call(legendGraph);
		}
		legendGraph();

	</script>

</body>
</html>